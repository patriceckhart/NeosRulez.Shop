$(document).ready(function(){if($("body").append('<div id="spinner"><div class="d-flex h-100 align-items-center"><div class="d-block w-100 text-center"><i class="fa fa-spinner fa-pulse fa-2x fa-fw"></i></div></div></div>'),$(document).on("change",".quantity",function(){$("body").toggleClass("body-hide"),$(this).parent().submit()}),$(document).on("click",".product_detail .dropdown-item",function(){$("body").toggleClass("body-hide")}),$(".shipping_form").is(":visible")?(required_change=1,$(".shipping_form").find(".form-control").attr("required","required"),$("#shipping_notes").removeAttr("required"),$("#shipping_company").removeAttr("required")):(required_change=0,$(".shipping_form").find(".form-control").removeAttr("required")),$(document).on("change","#shipping_address",function(){$(".shipping_form").slideToggle().removeClass("d-block"),0==required_change?($(".shipping_form").find(".form-control").attr("required","required"),required_change=1):($(".shipping_form").find(".form-control").val(""),$(".shipping_form").find(".form-control").removeAttr("required"),required_change=0),$("#shipping_notes").removeAttr("required"),$("#shipping_company").removeAttr("required")}),$(document).on("change","#shipping",function(){$("body").toggleClass("body-hide"),$("#updateOrder").submit()}),$(".shipping_form").is(":visible")?$(document).on("change","#shipping_country",function(){country=$(this).val(),$("#selected_country").val(country),$("body").toggleClass("body-hide"),$("#updateOrder").submit()}):$(document).on("change","#country",function(){country=$(this).val(),$("#shipping_country").val(country),$("#selected_country").val(country),$("body").toggleClass("body-hide"),$("#updateOrder").submit()}),$(document).on("change","#country",function(){$("body").toggleClass("body-hide"),$(".shipping_form").is(":visible")||(country=$(this).val(),$("#shipping_country").val(country),$("#selected_country").val(country),$("body").toggleClass("body-hide"),$("#updateOrder").submit())}),$(document).on("change","#shipping_country",function(){$(".shipping_form").is(":visible")&&(country=$(this).val(),$("#selected_country").val(country),$("body").toggleClass("body-hide"),$("#updateOrder").submit())}),setInterval(function(){$(".form-control").each(function(){attr=$(this).attr("required"),val=$(this).val(),"required"==attr&&(""==val?$(this).addClass("is-invalid"):null===val?$(this).addClass("is-invalid"):$(this).removeClass("is-invalid"))})},500),selectableCountries=$("#country").find("option[value]").length,selectableCountriesValue=$("#country").val(),selectableCountries>=1&&null===selectableCountriesValue&&$("#country").prop("selectedIndex",1).change(),selectableShippings=$("#shipping").find("option[value]").length,selectableShippingsValue=$("#shipping").val(),selectableShippings>=1&&null===selectableShippingsValue&&$("#shipping").prop("selectedIndex",1).change(),$("#country__modal").length){var e=new bootstrap.Modal(document.getElementById("country__modal"),{keyboard:!1,backdrop:"static"});$(".product_detail").length&&e.show()}});
